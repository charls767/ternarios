<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagramas Ternarios</title>
    <link rel="stylesheet" href="/static/style.css">
    <script>
        // Evitar flash de tema incorrecto
        if (localStorage.getItem("theme") === "dark") {
            document.documentElement.classList.add("dark-mode");
        }
    </script>
</head>
<body>

<div class="app">

    <!-- PANEL DE CONTROL -->
    <aside class="controls">

        <h2>ConfiguraciÃ³n</h2>

        <!-- SecciÃ³n 1: ConfiguraciÃ³n general -->
        <section>
            <h3>General</h3>

            <label>
                Escala
                <input type="number" id="scale" min="1" value="100">
            </label>

            <label>
                Eje izquierdo
                <input type="text" id="label-left" value="A">
            </label>

            <label>
                Eje derecho
                <input type="text" id="label-right" value="B">
            </label>

            <label>
                Eje inferior
                <input type="text" id="label-bottom" value="C">
            </label>
        </section>

        <!-- SecciÃ³n 2: GestiÃ³n de puntos -->
        <section>
            <h3>Puntos</h3>

            <label>
                Serie
                <div class="series-selector">
                    <select id="current-series">
                        <option value="Serie 1">Serie 1</option>
                    </select>
                    <input type="text" id="new-series-name" placeholder="Nueva serie">
                    <button id="add-series">+</button>
                </div>
            </label>

            <div class="point-row">
                <input type="number" id="val-a" placeholder="A">
                <input type="number" id="val-b" placeholder="B">
                <input type="number" id="val-c" placeholder="C">
            </div>

            <label>
                Color
                <input type="color" id="point-color" value="#ff0000">
            </label>

            <label>
                TamaÃ±o
                <input type="number" id="point-size" min="1" value="60">
            </label>

            <label>
                Marcador
                <select id="point-marker">
                    <option value="o">CÃ­rculo</option>
                    <option value="s">Cuadrado</option>
                    <option value="D">Diamante</option>
                    <option value="^">TriÃ¡ngulo</option>
                </select>
            </label>

            <button id="add-point">AÃ±adir punto</button>

            <div id="point-warning" class="warning"></div>

            <!-- Tabla de puntos -->
            <div class="points-table-container">
                <h4>Puntos AÃ±adidos</h4>
                <table id="points-table" class="points-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Serie</th>
                            <th>A</th>
                            <th>B</th>
                            <th>C</th>
                            <th>Color</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <p id="no-points-msg" class="no-points-msg">Sin puntos aÃ±adidos</p>
            </div>
        </section>

        <!-- SecciÃ³n 3: LÃ­neas -->
        <section>
            <h3>LÃ­neas</h3>

            <label class="inline">
                <input type="checkbox" id="lines-enabled">
                Conectar puntos
            </label>

            <label>
                Color
                <input type="color" id="line-color" value="#000000">
            </label>

            <label>
                Grosor
                <input type="number" id="line-width" min="1" value="2">
            </label>

            <label>
                Estilo
                <select id="line-style">
                    <option value="-">Continua</option>
                    <option value="--">Discontinua</option>
                    <option value=":">Punteada</option>
                    <option value="-.">GuiÃ³n-punto</option>
                </select>
            </label>
        </section>

        <!-- SecciÃ³n 4: Acciones -->
        <section>
            <button id="update">Actualizar diagrama</button>
            <button id="clear">Limpiar</button>
            
            <!-- Descargas -->
            <div class="download-section">
                <h4>Descargar</h4>
                <button id="download-png" class="btn-download">ðŸ“¥ PNG</button>
                <button id="download-jpg" class="btn-download">ðŸ“¥ JPG</button>
                <button id="download-pdf" class="btn-download">ðŸ“¥ PDF</button>
            </div>
        </section>

    </aside>

    <!-- VISUALIZACIÃ“N -->
    <main class="viewer">
        <div id="spinner" class="spinner">Generandoâ€¦</div>
        <div id="error" class="error"></div>
        <img id="result" alt="Diagrama ternario">
        
        <!-- BotÃ³n de tema -->
        <button id="theme-toggle" class="theme-toggle" title="Cambiar tema">ðŸŒ™</button>
    </main>

</div>

<script src="/static/scripts.js"></script>
</body>
</html>
